<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mortgage Calculator | ILYA Kovalyov</title>
  <meta name="description" content="JavaScript Mortgage Calculator will help you prepare for your expenses">
  <meta name="author" content="ILYA Kovalyov">
  <link href="../lib/header.css" rel="stylesheet">
  <link href="./assign07.css" rel="stylesheet">
  <script src="../lib/jquery-3.4.1.min.js"></script>
  <script src="./assign07.js"></script>
</head>

<script>
  function calculateLoan() {
    let form = document.getElementById("myForm");
    let output = document.getElementById("payment");

    let apr = Number(document.getElementById("apr").value) / 100 / 12;
    let term = Number(document.getElementById("term").value) * 12;
    let amount = Number(document.getElementById("amount").value);

    let result = amount * (apr * Math.pow(1 + apr, term)) / (Math.pow(1 + apr, term) - 1);

    console.log(result);
    console.log(apr);
    console.log(amount);
    console.log(term);

    output.value = (result).toFixed(2);
  }
</script>

<body>
  <header>
    <div id="header"></div>
  </header>

  <main>
    <div id="scroll-up">
      <a href="#header"></a>
    </div>

    <form id="myForm">
      <div>
        <label for="apr">Loan Rate: </label>
        <input type="number" placeholder="Rate" id="apr" name="apr" value="" step="0.01" min="0.0" max="25.00">
      </div>

      <div>
        <label for="term">Loan Term(years)</label>
        <input type="number" placeholder="Term" id="term" name="term" value="" step="1" min="0" max="40">
      </div>

      <div>
        <label for="amount">Loan Amount(dollars)</label>
        <input type="number" placeholder="Amount" id="amount" name="amount" value="" step="0.01" min="0">
      </div>

      <div>
        <input type="text" id="payment" name="payment" value="$0.00" readonly>
      </div>

      <div class="buttons">
        <button type="button" id="calculate" onclick="calculateLoan()">Calculate</button>
        <button type="reset" id="clear">Clear Form</button>
      </div>

    </form>

  </main>

  <footer>
    <div id="footer">
      <div class="copyright">
        <span>
          Copyright Â© 2020 Rexburg USA, ILYA at BYU-Idaho. All rights reserved.
        </span>
      </div>
      <div class="byui-link">
        <a href="http://www.byui.edu/" target="_blank">BYUI Homepage</a>
      </div>
    </div>
  </footer>

</body>

</html>